# ZERO DOOR - High Level Architecture

## Kiáº¿n trÃºc Há»‡ thá»‘ng Self-Healing cho Microservices

---

## 1. Tá»•ng quan Kiáº¿n trÃºc

### 1.1. Ã tÆ°á»Ÿng cá»‘t lÃµi

ZERO DOOR láº¥y cáº£m há»©ng tá»« **Há»‡ miá»…n dá»‹ch sinh há»c** cá»§a cÆ¡ thá»ƒ ngÆ°á»i:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Há»† MIá»„N Dá»ŠCH SINH Há»ŒC                            â”‚
â”‚                                                                         â”‚
â”‚   Virus xÃ¢m nháº­p  â†’  Táº¿ bÃ o nháº­n diá»‡n  â†’  KhÃ¡ng thá»ƒ tiÃªu diá»‡t          â”‚
â”‚        ğŸ¦                   ğŸ”¬                    ğŸ’ª                      â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        ZERO DOOR SYSTEM                                 â”‚
â”‚                                                                         â”‚
â”‚   Nemesis táº¥n cÃ´ng  â†’  Gaia phÃ¡t hiá»‡n  â†’  Hephaestus phá»¥c há»“i          â”‚
â”‚        ğŸ”´                   ğŸ‘                    ğŸ›¡                     â”‚
â”‚    (Red Team)          (Observer)            (Blue Team)                â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2. Closed-Loop Architecture

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         VÃ’NG Láº¶P KÃN 24/7           â”‚
                    â”‚                                     â”‚
                    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
                    â”‚    â”‚  ATTACK  â”‚                     â”‚
                    â”‚    â”‚ (Nemesis)â”‚                     â”‚
                    â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                     â”‚
                    â”‚         â”‚                           â”‚
                    â”‚         â–¼                           â”‚
                    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
                    â”‚    â”‚  DETECT  â”‚                     â”‚
                    â”‚    â”‚  (Gaia)  â”‚                     â”‚
                    â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                     â”‚
                    â”‚         â”‚                           â”‚
                    â”‚         â–¼                           â”‚
                    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
                    â”‚    â”‚   HEAL   â”‚                     â”‚
                    â”‚    â”‚(Hephaestus)                    â”‚
                    â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                     â”‚
                    â”‚         â”‚                           â”‚
                    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                    â”‚                             â”‚       â”‚
                    â”‚    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                    â”‚         (Continuous Loop)           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. System Architecture Diagram

### 2.1. High-Level Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              KUBERNETES CLUSTER                              â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           ZERO DOOR NAMESPACE                           â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚   â”‚   NEMESIS   â”‚    â”‚    GAIA     â”‚    â”‚ HEPHAESTUS  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚  â”‚Spring â”‚  â”‚    â”‚  â”‚Spring â”‚  â”‚    â”‚  â”‚Spring â”‚  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚  â”‚Boot   â”‚  â”‚    â”‚  â”‚Boot   â”‚  â”‚    â”‚  â”‚Boot   â”‚  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚  â”‚+ AI   â”‚  â”‚    â”‚  â”‚+ ML   â”‚  â”‚    â”‚  â”‚+ K8s  â”‚  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚      â”‚      â”‚    â”‚      â”‚      â”‚    â”‚      â”‚      â”‚                â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚          â”‚                  â”‚                  â”‚                        â”‚ â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ â”‚
â”‚  â”‚                             â”‚                                           â”‚ â”‚
â”‚  â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                                    â”‚ â”‚
â”‚  â”‚                      â”‚    KAFKA    â”‚                                    â”‚ â”‚
â”‚  â”‚                      â”‚   CLUSTER   â”‚                                    â”‚ â”‚
â”‚  â”‚                      â”‚  (Message   â”‚                                    â”‚ â”‚
â”‚  â”‚                      â”‚    Bus)     â”‚                                    â”‚ â”‚
â”‚  â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          TARGET APP NAMESPACE                           â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚   â”‚  Service A  â”‚    â”‚  Service B  â”‚    â”‚  Service C  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚ (Frontend)  â”‚    â”‚   (API)     â”‚    â”‚ (Database)  â”‚                â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         MONITORING NAMESPACE                            â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚   â”‚ PROMETHEUS  â”‚    â”‚   GRAFANA   â”‚    â”‚   ALERTMGR  â”‚                â”‚ â”‚
â”‚  â”‚   â”‚  (Metrics)  â”‚    â”‚ (Dashboard) â”‚    â”‚  (Alerts)   â”‚                â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2. Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATA FLOW                                        â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚         â”‚  HTTP   â”‚         â”‚ Metrics â”‚         â”‚  K8s   â”‚         â”‚  â”‚
â”‚    â”‚ NEMESIS â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ TARGET  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  GAIA   â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚HEPHAESTUSâ”‚  â”‚
â”‚    â”‚         â”‚ Attack  â”‚   APP   â”‚ Scrape  â”‚         â”‚  API   â”‚         â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                   â”‚                   â”‚                   â”‚        â”‚
â”‚         â”‚                   â”‚                   â”‚                   â”‚        â”‚
â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚    â”‚                                                               â”‚
â”‚         â”‚    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚         â”‚    â”‚         â”‚                             â”‚                       â”‚
â”‚         â”‚    â”‚         â”‚       KAFKA TOPICS          â”‚                       â”‚
â”‚         â”‚    â”‚         â”‚                             â”‚                       â”‚
â”‚         â”‚    â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                       â”‚
â”‚         â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  â”‚ attack.events       â”‚    â”‚                       â”‚
â”‚              â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                       â”‚
â”‚              â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                       â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  â”‚ detection.alerts    â”‚    â”‚                       â”‚
â”‚              â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                       â”‚
â”‚              â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  â”‚ healing.actions     â”‚    â”‚                       â”‚
â”‚                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                       â”‚
â”‚                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                       â”‚
â”‚                        â”‚  â”‚ system.logs         â”‚    â”‚                       â”‚
â”‚                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                       â”‚
â”‚                        â”‚                             â”‚                       â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Component Architecture

### 3.1. Agent Nemesis (Red Team)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AGENT NEMESIS                              â”‚
â”‚                      (Red Team - Attacker)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    ATTACK ENGINE                        â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚   â”‚   Attack    â”‚    â”‚     LLM     â”‚    â”‚  Attack   â”‚  â”‚   â”‚
â”‚   â”‚   â”‚  Template   â”‚â”€â”€â”€â–¶â”‚  Generator  â”‚â”€â”€â”€â–¶â”‚ Executor  â”‚  â”‚   â”‚
â”‚   â”‚   â”‚  Library    â”‚    â”‚ (Spring AI) â”‚    â”‚           â”‚  â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â”‚                                               â”‚        â”‚   â”‚
â”‚   â”‚   Templates:                                  â”‚        â”‚   â”‚
â”‚   â”‚   â€¢ SQLi patterns (OWASP)                     â”‚        â”‚   â”‚
â”‚   â”‚   â€¢ DDoS patterns                             â”‚        â”‚   â”‚
â”‚   â”‚   â€¢ Resource exhaustion                       â–¼        â”‚   â”‚
â”‚   â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚                                         â”‚  HTTP     â”‚  â”‚   â”‚
â”‚   â”‚                                         â”‚  Client   â”‚  â”‚   â”‚
â”‚   â”‚                                         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                   KAFKA PRODUCER                       â”‚   â”‚
â”‚   â”‚   Topic: attack.events                                 â”‚   â”‚
â”‚   â”‚   Payload: {attackId, type, target, timestamp, result} â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Config: nemesis-config.yaml                                   â”‚
â”‚   â€¢ attackTypes: [SQL_INJECTION, DDOS_L7, RESOURCE_EXHAUSTION] â”‚
â”‚   â€¢ intensity: LOW | MEDIUM | HIGH                              â”‚
â”‚   â€¢ schedule: cron expression                                   â”‚
â”‚   â€¢ targetEndpoints: [list of endpoints]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2. Agent Gaia (Observer)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AGENT GAIA                               â”‚
â”‚                     (Observer - Monitor)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                  DETECTION ENGINE                       â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚   â”‚ Prometheus  â”‚    â”‚  Threshold  â”‚    â”‚  Anomaly  â”‚  â”‚   â”‚
â”‚   â”‚   â”‚   Client    â”‚â”€â”€â”€â–¶â”‚   Checker   â”‚â”€â”€â”€â–¶â”‚ Detector  â”‚  â”‚   â”‚
â”‚   â”‚   â”‚             â”‚    â”‚             â”‚    â”‚   (ML)    â”‚  â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â”‚                                               â”‚        â”‚   â”‚
â”‚   â”‚   Metrics watched:                            â”‚        â”‚   â”‚
â”‚   â”‚   â€¢ CPU usage                                 â”‚        â”‚   â”‚
â”‚   â”‚   â€¢ Memory usage                              â”‚        â”‚   â”‚
â”‚   â”‚   â€¢ Request rate                              â–¼        â”‚   â”‚
â”‚   â”‚   â€¢ Error rate                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚   â€¢ Response time                       â”‚  Alert    â”‚  â”‚   â”‚
â”‚   â”‚                                         â”‚ Generator â”‚  â”‚   â”‚
â”‚   â”‚                                         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                   KAFKA PRODUCER                       â”‚   â”‚
â”‚   â”‚   Topic: detection.alerts                              â”‚   â”‚
â”‚   â”‚   Payload: {alertId, severity, metric, value, action}  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Config: gaia-config.yaml                                      â”‚
â”‚   thresholds:                                                   â”‚
â”‚   â€¢ cpu: 80%                                                    â”‚
â”‚   â€¢ memory: 85%                                                 â”‚
â”‚   â€¢ errorRate: 5%                                               â”‚
â”‚   â€¢ responseTime: 2000ms                                        â”‚
â”‚   scrapeInterval: 15s                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3. Agent Hephaestus (Blue Team)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AGENT HEPHAESTUS                            â”‚
â”‚                    (Blue Team - Defender)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                   HEALING ENGINE                        â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚   â”‚   Kafka     â”‚    â”‚   Action    â”‚    â”‚   K8s     â”‚  â”‚   â”‚
â”‚   â”‚   â”‚  Consumer   â”‚â”€â”€â”€â–¶â”‚  Resolver   â”‚â”€â”€â”€â–¶â”‚   Client  â”‚  â”‚   â”‚
â”‚   â”‚   â”‚             â”‚    â”‚             â”‚    â”‚           â”‚  â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â”‚                                               â”‚        â”‚   â”‚
â”‚   â”‚   Actions available:                          â”‚        â”‚   â”‚
â”‚   â”‚                                               â–¼        â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚   â”‚              KUBERNETES API                     â”‚  â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚   â”‚   â”‚  SCALE      â”‚ kubectl scale deployment --replicas â”‚  â”‚
â”‚   â”‚   â”‚  RESTART    â”‚ kubectl rollout restart            â”‚  â”‚
â”‚   â”‚   â”‚  ROLLBACK   â”‚ kubectl rollout undo               â”‚  â”‚
â”‚   â”‚   â”‚  BLOCK_IP   â”‚ NetworkPolicy apply                â”‚  â”‚
â”‚   â”‚   â”‚  ISOLATE    â”‚ Pod label modification             â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â”‚                                                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                   KAFKA PRODUCER                       â”‚   â”‚
â”‚   â”‚   Topic: healing.actions                               â”‚   â”‚
â”‚   â”‚   Payload: {actionId, type, target, status, duration}  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Config: hephaestus-config.yaml                                â”‚
â”‚   healingActions:                                               â”‚
â”‚   â€¢ SCALE: {enabled: true, minReplicas: 2, maxReplicas: 10}    â”‚
â”‚   â€¢ RESTART: {enabled: true, maxRestarts: 3}                    â”‚
â”‚   â€¢ ROLLBACK: {enabled: true, revisionsToKeep: 5}              â”‚
â”‚   â€¢ BLOCK_IP: {enabled: true, blockDuration: 300s}             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Tech Stack

### 4.1. Technology Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TECH STACK                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   APPLICATION    â”‚   Java 17+ / Spring Boot 3.x                 â”‚
â”‚                  â”‚   Spring AI (LLM Integration)                â”‚
â”‚                  â”‚   Spring WebFlux (Reactive)                  â”‚
â”‚                  â”‚   Spring Kafka                               â”‚
â”‚                  â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   AI/ML          â”‚   OpenAI GPT-4 (Cloud)                       â”‚
â”‚                  â”‚   Ollama + Mistral/CodeLlama (Local)         â”‚
â”‚                  â”‚   Spring AI Abstractions                     â”‚
â”‚                  â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   MESSAGING      â”‚   Apache Kafka 3.x                           â”‚
â”‚                  â”‚   Kafka Streams (optional)                   â”‚
â”‚                  â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   CONTAINER      â”‚   Docker                                     â”‚
â”‚   ORCHESTRATION  â”‚   Kubernetes (K3s / Minikube / Cloud K8s)    â”‚
â”‚                  â”‚   Helm 3.x                                   â”‚
â”‚                  â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   MONITORING     â”‚   Prometheus (Metrics)                       â”‚
â”‚                  â”‚   Grafana (Visualization)                    â”‚
â”‚                  â”‚   Alertmanager (Notifications)               â”‚
â”‚                  â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   LOGGING        â”‚   ELK Stack (Elasticsearch, Logstash, Kibana)â”‚
â”‚                  â”‚   or Loki + Grafana                          â”‚
â”‚                  â”‚                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                              â”‚
â”‚   CI/CD          â”‚   GitHub Actions                             â”‚
â”‚                  â”‚   Docker Hub / GitHub Container Registry     â”‚
â”‚                  â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2. Dependency Diagram

```
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   Spring    â”‚
                              â”‚    Boot     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Spring AI  â”‚          â”‚Spring Kafka â”‚          â”‚ Spring Web  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   OpenAI    â”‚          â”‚    Kafka    â”‚          â”‚  Kubernetes â”‚
    â”‚   Ollama    â”‚          â”‚   Cluster   â”‚          â”‚     API     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Sequence Diagrams

### 5.1. Attack â†’ Detect â†’ Heal Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”
â”‚ Nemesis â”‚     â”‚  Kafka  â”‚     â”‚  Gaia   â”‚     â”‚Hephaestus â”‚     â”‚ K8s â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚   Attack      â”‚               â”‚                â”‚              â”‚
     â”‚   Target App  â”‚               â”‚                â”‚              â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚   Publish     â”‚               â”‚                â”‚              â”‚
     â”‚   attack.events               â”‚                â”‚              â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚   Subscribe   â”‚                â”‚              â”‚
     â”‚               â”‚   attack.events               â”‚              â”‚
     â”‚               â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚  Scrape        â”‚              â”‚
     â”‚               â”‚               â”‚  Prometheus    â”‚              â”‚
     â”‚               â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚  Metrics       â”‚              â”‚
     â”‚               â”‚               â”‚  (CPU spike)   â”‚              â”‚
     â”‚               â”‚               â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚  Detect        â”‚              â”‚
     â”‚               â”‚               â”‚  Anomaly       â”‚              â”‚
     â”‚               â”‚               â”‚â”€â”€â”€â”€â”           â”‚              â”‚
     â”‚               â”‚               â”‚    â”‚           â”‚              â”‚
     â”‚               â”‚               â”‚â—€â”€â”€â”€â”˜           â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚   Publish     â”‚                â”‚              â”‚
     â”‚               â”‚   detection.alerts             â”‚              â”‚
     â”‚               â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚   Subscribe    â”‚              â”‚
     â”‚               â”‚               â”‚   detection.alerts            â”‚
     â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶              â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚  Scale       â”‚
     â”‚               â”‚               â”‚                â”‚  Deployment  â”‚
     â”‚               â”‚               â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚  Success     â”‚
     â”‚               â”‚               â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â”‚               â”‚   Publish     â”‚                â”‚              â”‚
     â”‚               â”‚   healing.actions              â”‚              â”‚
     â”‚               â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
     â”‚               â”‚               â”‚                â”‚              â”‚
     â–¼               â–¼               â–¼                â–¼              â–¼
```

### 5.2. SQL Injection Attack Scenario

```
Timeline:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

T+0s        T+15s       T+30s       T+45s       T+60s       T+90s
  â”‚           â”‚           â”‚           â”‚           â”‚           â”‚
  â–¼           â–¼           â–¼           â–¼           â–¼           â–¼

â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚Startâ”‚   â”‚ Attack  â”‚   â”‚ Metrics â”‚   â”‚ Alert   â”‚   â”‚ Block   â”‚   â”‚Systemâ”‚
â”‚     â”‚â”€â”€â–¶â”‚ Execute â”‚â”€â”€â–¶â”‚ Spike   â”‚â”€â”€â–¶â”‚ Trigger â”‚â”€â”€â–¶â”‚   IP    â”‚â”€â”€â–¶â”‚Stableâ”‚
â”‚     â”‚   â”‚ SQLi    â”‚   â”‚ Error   â”‚   â”‚ Gaia    â”‚   â”‚Hephaestus   â”‚      â”‚
â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜

                        â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
                                    MTTD + MTTR
                                    (~45-60 seconds)
```

---

## 6. Deployment Architecture

### 6.1. Kubernetes Resources

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    KUBERNETES RESOURCES                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   NAMESPACE: zero-door                                          â”‚
â”‚   â”œâ”€â”€ Deployments                                               â”‚
â”‚   â”‚   â”œâ”€â”€ nemesis-deployment (replicas: 1)                     â”‚
â”‚   â”‚   â”œâ”€â”€ gaia-deployment (replicas: 2)                        â”‚
â”‚   â”‚   â””â”€â”€ hephaestus-deployment (replicas: 1)                  â”‚
â”‚   â”‚                                                             â”‚
â”‚   â”œâ”€â”€ Services                                                  â”‚
â”‚   â”‚   â”œâ”€â”€ nemesis-service (ClusterIP)                          â”‚
â”‚   â”‚   â”œâ”€â”€ gaia-service (ClusterIP)                             â”‚
â”‚   â”‚   â””â”€â”€ hephaestus-service (ClusterIP)                       â”‚
â”‚   â”‚                                                             â”‚
â”‚   â”œâ”€â”€ ConfigMaps                                                â”‚
â”‚   â”‚   â”œâ”€â”€ nemesis-config                                        â”‚
â”‚   â”‚   â”œâ”€â”€ gaia-config                                           â”‚
â”‚   â”‚   â””â”€â”€ hephaestus-config                                     â”‚
â”‚   â”‚                                                             â”‚
â”‚   â”œâ”€â”€ Secrets                                                   â”‚
â”‚   â”‚   â”œâ”€â”€ openai-api-key                                        â”‚
â”‚   â”‚   â””â”€â”€ kafka-credentials                                     â”‚
â”‚   â”‚                                                             â”‚
â”‚   â”œâ”€â”€ ServiceAccount                                            â”‚
â”‚   â”‚   â””â”€â”€ hephaestus-sa (vá»›i RBAC cho K8s API)                 â”‚
â”‚   â”‚                                                             â”‚
â”‚   â””â”€â”€ RBAC                                                      â”‚
â”‚       â”œâ”€â”€ hephaestus-role                                       â”‚
â”‚       â””â”€â”€ hephaestus-rolebinding                                â”‚
â”‚                                                                 â”‚
â”‚   NAMESPACE: kafka                                              â”‚
â”‚   â”œâ”€â”€ StatefulSet: kafka-cluster (replicas: 3)                 â”‚
â”‚   â””â”€â”€ StatefulSet: zookeeper (replicas: 3)                     â”‚
â”‚                                                                 â”‚
â”‚   NAMESPACE: monitoring                                         â”‚
â”‚   â”œâ”€â”€ Deployment: prometheus                                    â”‚
â”‚   â”œâ”€â”€ Deployment: grafana                                       â”‚
â”‚   â””â”€â”€ Deployment: alertmanager                                  â”‚
â”‚                                                                 â”‚
â”‚   NAMESPACE: target-app                                         â”‚
â”‚   â”œâ”€â”€ Deployment: ecommerce-frontend                           â”‚
â”‚   â”œâ”€â”€ Deployment: ecommerce-api                                â”‚
â”‚   â””â”€â”€ Deployment: ecommerce-db                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2. Helm Chart Structure

```
helm/
â”œâ”€â”€ Chart.yaml
â”œâ”€â”€ values.yaml                    # Default values
â”œâ”€â”€ values-dev.yaml                # Development overrides
â”œâ”€â”€ values-prod.yaml               # Production overrides
â”‚
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ _helpers.tpl
â”‚   â”‚
â”‚   â”œâ”€â”€ nemesis/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â””â”€â”€ configmap.yaml
â”‚   â”‚
â”‚   â”œâ”€â”€ gaia/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â””â”€â”€ configmap.yaml
â”‚   â”‚
â”‚   â”œâ”€â”€ hephaestus/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â”œâ”€â”€ configmap.yaml
â”‚   â”‚   â”œâ”€â”€ serviceaccount.yaml
â”‚   â”‚   â”œâ”€â”€ role.yaml
â”‚   â”‚   â””â”€â”€ rolebinding.yaml
â”‚   â”‚
â”‚   â”œâ”€â”€ kafka/
â”‚   â”‚   â””â”€â”€ (Bitnami Kafka subchart)
â”‚   â”‚
â”‚   â””â”€â”€ monitoring/
â”‚       â””â”€â”€ (Prometheus/Grafana subcharts)
â”‚
â””â”€â”€ charts/
    â”œâ”€â”€ kafka/
    â””â”€â”€ prometheus/
```

---

## 7. Security Architecture

### 7.1. RBAC Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      RBAC CONFIGURATION                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ServiceAccount: hephaestus-sa                                 â”‚
â”‚   â”‚                                                             â”‚
â”‚   â””â”€â”€ ClusterRole: hephaestus-role                              â”‚
â”‚       â”‚                                                         â”‚
â”‚       â”œâ”€â”€ apiGroups: ["apps"]                                   â”‚
â”‚       â”‚   resources: ["deployments", "replicasets"]            â”‚
â”‚       â”‚   verbs: ["get", "list", "patch", "update"]            â”‚
â”‚       â”‚                                                         â”‚
â”‚       â”œâ”€â”€ apiGroups: [""]                                       â”‚
â”‚       â”‚   resources: ["pods", "services"]                       â”‚
â”‚       â”‚   verbs: ["get", "list", "delete"]                     â”‚
â”‚       â”‚                                                         â”‚
â”‚       â””â”€â”€ apiGroups: ["networking.k8s.io"]                      â”‚
â”‚           resources: ["networkpolicies"]                        â”‚
â”‚           verbs: ["create", "patch", "delete"]                  â”‚
â”‚                                                                 â”‚
â”‚   Note: Hephaestus chá»‰ cÃ³ quyá»n trong target namespace         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2. Network Policies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NETWORK POLICIES                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   zero-door namespace:                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   Nemesis â”€â”€â–¶ Target App (Egress allowed)              â”‚   â”‚
â”‚   â”‚   Gaia â”€â”€â–¶ Prometheus (Egress allowed)                 â”‚   â”‚
â”‚   â”‚   Hephaestus â”€â”€â–¶ K8s API (Egress allowed)              â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   All agents â—€â”€â”€â–¶ Kafka (Ingress/Egress allowed)        â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚   target-app namespace:                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   Allow ingress from: Nemesis (attack)                  â”‚   â”‚
â”‚   â”‚   Allow ingress from: Prometheus (scrape)               â”‚   â”‚
â”‚   â”‚   Allow ingress from: External (normal traffic)         â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â”‚   Blocked IPs: Managed by Hephaestus NetworkPolicy      â”‚   â”‚
â”‚   â”‚                                                         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. Scalability Considerations

### 8.1. Horizontal Scaling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SCALING STRATEGY                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Component      â”‚ Replicas â”‚ Scaling Strategy                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚   Nemesis        â”‚    1     â”‚ Single instance (coordinator)    â”‚
â”‚   Gaia           â”‚   2-5    â”‚ HPA based on Kafka lag           â”‚
â”‚   Hephaestus     â”‚    1     â”‚ Single instance (K8s API limit)  â”‚
â”‚   Kafka          â”‚   3+     â”‚ StatefulSet, partition-based     â”‚
â”‚   Prometheus     â”‚   1-2    â”‚ Federation for large clusters    â”‚
â”‚                                                                 â”‚
â”‚   Notes:                                                        â”‚
â”‚   â€¢ Nemesis single Ä‘á»ƒ trÃ¡nh duplicate attacks                   â”‚
â”‚   â€¢ Gaia cÃ³ thá»ƒ scale Ä‘á»ƒ handle nhiá»u metrics sources          â”‚
â”‚   â€¢ Hephaestus single Ä‘á»ƒ trÃ¡nh race conditions                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2. Multi-Cluster Support (Future)

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Control Plane  â”‚
                    â”‚  (ZERO DOOR     â”‚
                    â”‚   Coordinator)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                 â”‚                 â”‚
           â–¼                 â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Cluster A  â”‚   â”‚  Cluster B  â”‚   â”‚  Cluster C  â”‚
    â”‚  (US-East)  â”‚   â”‚  (EU-West)  â”‚   â”‚  (AP-South) â”‚
    â”‚             â”‚   â”‚             â”‚   â”‚             â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚Agents â”‚  â”‚   â”‚  â”‚Agents â”‚  â”‚   â”‚  â”‚Agents â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Configuration Reference

### 9.1. values.yaml (Helm)

```yaml
# Global settings
global:
  namespace: zero-door
  imageRegistry: ghcr.io/your-org

# Target Application
targetApp:
  name: "ecommerce-demo"
  namespace: "target-app"
  metricsEndpoint: "/actuator/prometheus"
  healthEndpoint: "/actuator/health"

# Agent Nemesis
nemesis:
  enabled: true
  image: zero-door/nemesis:latest
  replicas: 1
  config:
    attackTypes:
      - SQL_INJECTION
      - DDOS_L7
      - RESOURCE_EXHAUSTION
    intensity: MEDIUM
    schedule: "*/5 * * * *" # Every 5 minutes
  llm:
    provider: ollama # or openai
    model: mistral

# Agent Gaia
gaia:
  enabled: true
  image: zero-door/gaia:latest
  replicas: 2
  config:
    thresholds:
      cpu: 80
      memory: 85
      errorRate: 5
      responseTime: 2000
    scrapeInterval: 15s

# Agent Hephaestus
hephaestus:
  enabled: true
  image: zero-door/hephaestus:latest
  replicas: 1
  config:
    healingActions:
      scale:
        enabled: true
        minReplicas: 2
        maxReplicas: 10
      restart:
        enabled: true
        maxRestarts: 3
      rollback:
        enabled: true
      blockIp:
        enabled: true
        duration: 300

# Kafka
kafka:
  enabled: true
  replicas: 3
  topics:
    - name: attack.events
      partitions: 3
    - name: detection.alerts
      partitions: 3
    - name: healing.actions
      partitions: 3

# Monitoring
monitoring:
  prometheus:
    enabled: true
  grafana:
    enabled: true
    dashboards:
      - zero-door-overview
      - attack-metrics
      - healing-metrics
```

---

## 10. Monitoring & Observability

### 10.1. Grafana Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ZERO DOOR - WAR ROOM DASHBOARD                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SYSTEM STATUS  â”‚  â”‚  ATTACK COUNTER  â”‚  â”‚ HEALING STATS  â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                â”‚ â”‚
â”‚  â”‚   ğŸŸ¢ HEALTHY     â”‚  â”‚   Attacks: 147   â”‚  â”‚ Healed: 142    â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚   Last: 2m ago   â”‚  â”‚ Failed: 5      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    MTTD / MTTR TIMELINE                  â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚   MTTD â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  45s avg    â”‚   â”‚
â”‚  â”‚   MTTR â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  90s avg    â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     TARGET APP METRICS  â”‚  â”‚      AGENT ACTIVITY         â”‚   â”‚
â”‚  â”‚                         â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚   CPU:    â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 65%   â”‚  â”‚   Nemesis:  â—â—â—â—‹â—‹ Active   â”‚   â”‚
â”‚  â”‚   Memory: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 78%   â”‚  â”‚   Gaia:     â—â—â—â—â— Active   â”‚   â”‚
â”‚  â”‚   Errors: â–ˆâ–‘â–‘â–‘â–‘â–‘  2%   â”‚  â”‚   Hephaestus: â—â—â—‹â—‹â—‹ Idle   â”‚   â”‚
â”‚  â”‚                         â”‚  â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ATTACK/HEAL EVENT LOG                 â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚   14:32:15 [ATTACK] SQLi on /api/users - Nemesis        â”‚   â”‚
â”‚  â”‚   14:32:18 [DETECT] Error rate spike 12% - Gaia         â”‚   â”‚
â”‚  â”‚   14:32:22 [HEAL]   Block IP 10.0.0.5 - Hephaestus      â”‚   â”‚
â”‚  â”‚   14:32:25 [HEAL]   Scale to 5 replicas - Hephaestus    â”‚   â”‚
â”‚  â”‚   14:32:45 [STABLE] System recovered - Gaia             â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Quick Reference

### 11.1. Key Ports

| Service    | Port | Protocol | Description     |
| ---------- | ---- | -------- | --------------- |
| Nemesis    | 8081 | HTTP     | Health, Metrics |
| Gaia       | 8082 | HTTP     | Health, Metrics |
| Hephaestus | 8083 | HTTP     | Health, Metrics |
| Kafka      | 9092 | TCP      | Broker          |
| Prometheus | 9090 | HTTP     | Metrics Query   |
| Grafana    | 3000 | HTTP     | Dashboard       |

### 11.2. Kafka Topics

| Topic            | Producer   | Consumer        | Purpose             |
| ---------------- | ---------- | --------------- | ------------------- |
| attack.events    | Nemesis    | Gaia, Dashboard | Attack logs         |
| detection.alerts | Gaia       | Hephaestus      | Anomaly alerts      |
| healing.actions  | Hephaestus | Dashboard       | Healing logs        |
| system.logs      | All        | ELK/Loki        | Centralized logging |

### 11.3. Environment Variables

| Variable                | Agent      | Description         |
| ----------------------- | ---------- | ------------------- |
| OPENAI_API_KEY          | Nemesis    | OpenAI API key      |
| KAFKA_BOOTSTRAP_SERVERS | All        | Kafka connection    |
| PROMETHEUS_URL          | Gaia       | Prometheus endpoint |
| K8S_NAMESPACE           | Hephaestus | Target namespace    |

---

_Document Version: 1.0_  
_Last Updated: 26/01/2026_
